# 代付

## Term（术语）
代付 (Disbursement / Pay-out / Payout)

## Domain（所属领域）
第三方支付系统 (Third-party Payment System)

## Definition（标准定义）
代付是指第三方支付机构或商业银行接受**商户 (Payer/Merchant)** 的委托，依据商户提交的付款指令，将资金从商户在支付机构开设的**备付金账户 (Provision Account)** 或银行结算账户中，划转至指定的**收款人 (Payee)** 银行账户、电子钱包或其他资金账户的过程。该过程通常涉及资金冻结、风控审核、指令下发、银行处理及结果回调等环节。

## Core Characteristics（核心特征）
1.  **资金下发 (Fund Distribution)**：
    资金流向与代收相反，是从集中的商户账户流向分散的个人或企业账户（One-to-Many）。
2.  **备付金扣划 (Balance Deduction)**：
    交易发起的先决条件是商户的代付账户中有足够的可用余额。通常采用“先冻结，后打款”的模式。
3.  **时效性差异 (T+0 / T+1)**：
    根据通道能力，支持实时到账（Real-time）、准实时到账或普通到账（T+1/D+1）。
4.  **强风控 (Strict Risk Control)**：
    由于资金流出的不可逆性，代付业务面临极高的反洗钱 (AML) 和资金安全风险，通常需要严格的商户身份验证和交易背景审核。

## Typical Use Cases（典型使用场景）
1.  **薪资福利发放**：
    企业通过代付系统批量向员工发放工资、奖金。
2.  **平台佣金结算**：
    电商、直播或共享经济平台向卖家、主播或服务提供者结算收入。
3.  **用户提现 (Withdrawal)**：
    用户将电子钱包或理财账户中的余额提现至绑定银行卡。
4.  **保险理赔**：
    保险公司将赔付款项直接打入投保人账户。
5.  **退款 (Refund)**：
    （注：部分场景下原路退回属于退款接口，但涉及非原路退回或赔偿金时常使用代付）。

## Related Concepts（相关概念）
*   **Batch Transfer (批量转账)**：代付的一种常见形式，允许商户上传包含多个收款信息的转账文件，由系统进行批处理。
*   **Enterprise Payment to Individual (企业付款到个人)**：特指 B2C 的代付场景，如微信的企业付款到零钱。
*   **Settlement (结算)**：代付是结算的一种实现手段，但结算更侧重于财务层面的账务清算。

## Common Misunderstandings（常见误解）
*   **误解 1：代付就是简单的银行转账**。
    *   **澄清**：虽然结果相似，但代付系统封装了跨行路由、状态机管理、异常处理（如冲正、退票）、对账和API集成能力，远比手动网银转账复杂。
*   **误解 2：代付一定是实时到账的**。
    *   **澄清**：到账时间取决于底层银行通道的处理能力（如大额支付系统 vs 超级网银）、发起时间（工作日 vs 节假日）以及风控审核耗时。

## Notes / Constraints（适用条件或限制）
1.  **账户余额管理**：
    必须严格保证商户账户余额充足。系统设计需包含**资金预冻结 (Pre-freeze)** 机制，防止并发请求导致的资金透支 (Overdraft)。
2.  **信息准确性**：
    收款人姓名、卡号、开户行信息必须严格匹配（二要素/三要素/四要素验证），否则极易导致银行**退票 (Dishonor)**，退票处理流程（资金解冻、状态回滚）是系统设计的难点。
3.  **安全性与鉴权**：
    代付接口通常需要最高级别的安全防护，如双向 SSL 证书、IP 白名单、支付密码/U盾验证、以及敏感信息（PII）加密传输。
4.  **并发控制**：
    对于同一个收款账户或同一个商户，需合理控制并发度，避免触发银行侧的风控熔断。
