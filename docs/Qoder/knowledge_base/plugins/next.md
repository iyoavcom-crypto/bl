# NEXT 代码建议

预测你的编码意图，生成下一段代码。

NEXT 是 Qoder 的核心智能编码功能，它能基于当前完整代码的上下文，结合代码修改和光标所在位置，动态预测代码变更。借助 Qoder NEXT，你只需 Tab 一下，即可高效完成代码变更。

## NEXT 的核心能力

*   **智能上下文感知** - 不仅感知当前文件，还会分析项目的更广泛上下文，包括：
    *   当前文件的即时上下文
    *   你最近打开的文件以及其他近期打开的文件
    *   整个代码库中不同文件之间的依赖关系与关联
    这能够确保代码建议不仅在功能上准确无误，也能完全符合你项目既定的编码规范和架构模式。
*   **行级和方法级补全** - 提供从单行到完整方法的多层次代码建议
*   **主动预判需求** - 无需你发问，AI 会预判你的需求，在光标处主动提供智能建议
*   **多行智能编辑** - 在光标附近一次性编辑多行代码
*   **持续学习能力** - 根据最近的更改和此前接受的编辑优化建议
*   **自动化辅助** - 自动导入依赖项，减少手动操作

## 如何使用 NEXT

### 启用设置

使用 NEXT 之前，请先在 Qoder 插件设置中确认已启用该功能。

### 触发方式

*   **自动触发**：
    *   当你编写代码时，系统会自动生成代码建议
    *   在注释中输入自然语言提示时，也会触发智能建议
*   **手动触发**：
    *   按 `⌥ P`（macOS）或 `Alt P`（Windows/Linux）来请求生成代码建议

### 建议展示方式

Qoder 会智能调整建议的展示方式，提供最佳对比体验：

*   **幽灵视图（Ghost View）**：默认情况下，代码续写采用灰色文本展示。
*   **并排视图（Side-by-Side View）**：如果行内/行间有多处修改，会自动以并排 Diff 视图显示，方便比较更改。
*   **内联视图（Inline View）**：如果代码更改过宽，无法在编辑器中舒适显示，Qoder 会自动切换为内联视图，确保可读性并避免水平滚动。

### 接受或拒绝建议

当编辑器中出现代码建议时，你可以：

*   **使用鼠标**：将鼠标悬停在「接受/拒绝」上进行操作
*   **使用键盘**：

| 操作 | macOS | Windows/Linux |
| :--- | :--- | :--- |
| **接受建议** | Tab | Tab |
| **拒绝建议** | Esc | Esc |
| **手动触发建议** | ⌥ P | Alt P |

### 跨位置跳转

*   **同文件跳转**：如果下一处编辑位置不在当前视图中，点击「Tab to Jump」或按 `Tab` 跳转到同一文件中的编辑位置。
*   **跨文件跳转**：若编辑位于其他文件，点击「Tab to Jump」或按 `Tab` 跳转到目标文件的编辑位置。

## 典型使用场景

*   **一致性重命名**：当你重命名变量或函数时，NEXT 会提示在整个文件中更新该标识符的所有出现位置，一次点击即可确保一致性。
*   **智能重构**：发现简化代码的机会，例如将代码块转换为更现代的语法，或将逻辑提取到独立方法中，并呈现重构后的代码供你审核批准。
*   **函数参数更新**：在为函数定义新增参数后，自动建议更新所有使用该函数的调用点，免去繁琐的手动搜索。
*   **模式补全**：在你声明新变量或为类字段添加注解后，预判下一步的合理操作——例如初始化该变量，或为其他字段应用类似注解——并给出相应的代码建议。
*   **即时文档**：将光标置于函数上方并输入 `/`，即可触发自动建议，生成完整且具上下文感知的注释块（例如 JSDoc），描述该函数、其参数及其返回值。
